<p-toolbar>
  <div #parkHeader class="park-header">
    <button pButton pRipple (click)="goAreas()" label="Go Areas"></button>
    <p-calendar
      *ngIf="selectedArea.reservationsEnabled"
      [ngModel]="timeRange"
      (ngModelChange)="timeRangeChange($event)"
      [minDate]="minDate"
      [maxDate]="maxDate"
      selectionMode="range"
      [showTime]="true"
      inputId="time"
      >
    </p-calendar>

    from
    <input
      *ngIf="selectedArea.reservationsEnabled"
      type="text"
      pInputText
      [ngModel]="timeRange[0]?.toLocaleString()"
      [disabled]="true"
      style="opacity: 1;"
      />

    to
    <input
      *ngIf="selectedArea.reservationsEnabled"
      type="text"
      pInputText
      [ngModel]="timeRange[1]?.toLocaleString()"
      [disabled]="true"
      style="opacity: 1;"
      />

  </div>
  <app-user-avatar
    class="p-toolbar-group-right"
    >
  </app-user-avatar>
</p-toolbar>

<app-park-template
  #parkTemplate
  [parkArea]="selectedArea"
  (spaceClicked)="spaceClicked($event)"
></app-park-template>

<p-dialog
  #cd
  [modal]="true"
  [breakpoints]="{'960px': '75vw', '640px': '100vw'}"
  [closeOnEscape]="true"
  [closable]="true"
  [(visible)]="dialogVisible"
  [style]="{width: '60vw',height: '100vh'}"
  >
  <ng-template pTemplate="header">
    <div>
      <h3>{{selectedSpace?.id}}</h3>
      <h4>{{selectedSpace?.status}}</h4>
    </div>
  </ng-template>

  <ng-template pTemplate="body">
    <div>
    </div>
  </ng-template>

  <ng-template pTemplate="footer" >
    <div class="mt-3">
      <p-button type="button" icon="pi pi-calendar" label="Reserve" (onClick)="reserveSpace()" ></p-button>
      <p-button type="button" icon="pi pi-times" label="Close" [styleClass]="'pi-button-error'" (onClick)="dialogVisible = false"></p-button>
    </div>
  </ng-template>
</p-dialog>

<p-toast></p-toast>
