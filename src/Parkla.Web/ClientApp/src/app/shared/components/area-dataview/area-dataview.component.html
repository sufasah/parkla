<p-dataView
  #dv
  [value]="areas"
  [paginator]="true"
  [rows]="pageSize"
  [first]="nextRecord"
  [totalRecords]="totalRecords"
  [showCurrentPageReport]="true"
  [showPageLinks]="true"
  [lazy]="true"
  [loading]="loading"
  (onLazyLoad)="loadData($event)"
  filterBy="id,name,description"
  [sortField]="sortField"
  [sortOrder]="sortOrder"
  layout="grid"
  >
  <ng-template pTemplate="header">
    <div class="d-flex flex-column flex-md-row justify-content-between">
        <p-dropdown
          [options]="sortOptions"
          placeholder="Sort By Price"
          (onChange)="onSortChange($event)"
          styleClass="mb-2 md:mb-0"
          >
        </p-dropdown>
        <span class="p-input-icon-left mb-2 md:mb-0">
            <i class="pi pi-search"></i>

            <input
              type="search"
              pInputText
              placeholder="Search by Name"
              (input)="onSearchInput($event)"
              />
        </span>
        <p-dataViewLayoutOptions class="d-inline-flex"></p-dataViewLayoutOptions>
    </div>
  </ng-template>

  <ng-template let-area pTemplate="listItem">
    <div class="col-12">
      <div class="area-list-item">
          <img #img1 [src]="getImageUrl(area)" onerror="onImageError(img1)"/>
          <div class="area-list-detail">
              <div class="area-name">{{area.name}}</div>
              <div class="area-description">{{area.description}}</div>
              <div class="area-reservable">{{area.reservationsEnabled}}</div>
              <i class="pi pi-tag area-category-icon"></i><span class="area-category">{{area.emptySpace}}-{{area.reservedSpace}}-{{area.occupiedSpace}}</span>
          </div>
          <div class="area-list-action">
              <span class="area-price">{{area.minPrice.balance}}-{{area.avaragePrice.balance}}-{{area.maxPrice.balance}}</span>
              <p-button icon="pi pi-car" label="Go Area" (click)="goArea(area)"></p-button>

              <ng-container
                *ngIf="testTemplateRef"
                [ngTemplateOutlet]="testTemplateRef"
                [ngTemplateOutletContext]="{$implicit:area}"
                >
            </ng-container>
          </div>
      </div>
    </div>
  </ng-template>

  <ng-template let-area pTemplate="gridItem">
    <div class="col-12 col-md-6 col-lg-4 d-inline-block">
      <div class="area-grid-item card">
          <div class="area-grid-item-top">
              <div>
                  <i class="pi pi-tag area-category-icon"></i>
                  <span class="area-category">{{area.statusUpdateTime}}-{{area.emptySpace}}-{{area.reservedSpace}}-{{area.occupiedSpace}}</span>
              </div>
              <span class="area-price">{{area.minPrice}}-{{area.avaragePrice}}-{{area.maxPrice}}</span>
          </div>
          <div class="area-grid-item-content">
              <img #img2 [src]="getImageUrl(area)" onerror="onImageError(img2)"/>
              <div class="area-name">{{area.name}}</div>
              <div class="area-description">{{area.description}}</div>
              <div class="area-reservable">{{area.reservationsEnabled}}</div>
          </div>
          <div class="area-grid-item-bottom">
            <p-button icon="pi pi-car" label="Go Area" (click)="goArea(area)"></p-button>
            <ng-container
              *ngIf="testTemplateRef"
              [ngTemplateOutlet]="testTemplateRef"
              [ngTemplateOutletContext]="{$implicit:area}"
              >
            </ng-container>
          </div>
      </div>
   </div>
  </ng-template>

  <ng-template pTemplate="paginatorleft" let-state>
    <button type="button" (click)="refresh()" pButton icon="pi pi-refresh"></button>
  </ng-template>

  <ng-template pTemplate="paginatorright">
  </ng-template>
</p-dataView>
